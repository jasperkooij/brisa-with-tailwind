function z(t,E){return["portal",{element:t,target:E}]}function D(t){return Object.assign(["HTML",{html:t},null],{[Symbol.for("isJSX")]:!0})}function Q(t,E){return{id:E,defaultValue:t}}function C(t){return t instanceof Error&&t.name==="NotFoundError"}function U(){throw new W("Not found")}class W extends Error{constructor(t){super(t);this.name="NotFoundError"}}function Y(t,E){const x=E?.renderMode??"reactivity";if(__BASE_PATH__)t=URL.canParse(t)?t:(__BASE_PATH__??"")+t;if(typeof window!=="undefined"){if(window._xm=x,window.fPath)t=window.fPath(t);location.assign(t);const n=(m)=>{m.preventDefault(),m.stopPropagation(),window.removeEventListener("error",n)};window.addEventListener("error",n)}const O=new Error(t);throw O.name=`navigate:${x}`,O}function S(t){return t instanceof Error&&t.name.startsWith("navigate:")}function F(t){return t instanceof Error&&t.name==="rerender"}function j(t){return F(t)||S(t)||C(t)}var g={is:j,isRerender:F,isNavigate:S,isNotFound:C},K=g;function Z(t){if(!t.length)return[];const[E,x,O,n]=t.slice(0,4);return[[E||O,x||"",n]].concat(Z(t.slice(4,t.length)))}function B(t){return G(null,t)}function G(t,{children:E,...x},O){let n=E;if(Array.isArray(E)&&!r(E))n=E.map((m)=>m?.[I]?m:B({children:m}));return Object.assign([t,{...x,key:O},n],{[I]:!0})}function r(t){return Array.isArray(t)&&((I in t)||p(t))}function p(t){return t?.[0]==="HTML"&&typeof t[1]?.html==="string"}var I=Symbol.for("isJSX");var b=/<(\w+) *>(.*?)<\/\1 *>|<(\w+) *\/>/,c=/(?:\r\n|\r|\n)/g;function R(t,E=[]){const x=t.replace(c,"").split(b);if(x.length===1)return t;const O=[],n=x.shift();if(n)O.push(n);const m=Z(x);for(let[N,_,f]of m){const A=E[N]||G(B,{},void 0,!1,void 0,this);if(A[2]=_?R(_,E):_,O.push(A),f)O.push(f)}return O}function H(t,E="",x,O={returnObjects:!1}){const{keySeparator:n="."}=x||{},m=n?E.split(n):[E];if(E===n&&O.returnObjects)return t;const N=m.reduce((_,f)=>{if(typeof _==="string")return{};const A=_[f];return A||(typeof A==="string"?A:{})},t);if(typeof N==="string"||N instanceof Object&&O.returnObjects)return N;return}function v(t,E,x,O,n){if(!n||typeof n.count!=="number")return x;const m=`${x}_${n.count}`;if(H(E,m,O)!==void 0)return m;const N=`${x}_${t.select(n.count)}`;if(H(E,N,O)!==void 0)return N;const _=`${x}.${n.count}`;if(H(E,_,O)!==void 0)return _;const f=`${x}.${t.select(n.count)}`;if(H(E,f,O)!==void 0)return f;return x}function w({text:t,query:E,config:x,locale:O}){if(!t||!E)return t||"";const n=(A)=>A.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),{format:m=null,prefix:N="{{",suffix:_="}}"}=x.interpolation||{},f=_===""?"":`(?:[\\s,]+([\\w-]*))?\\s*${n(_)}`;return Object.keys(E).reduce((A,M)=>{const J=new RegExp(`${n(N)}\\s*${M}${f}`,"gm");return A.replace(J,(P,X)=>{return X&&m?m(E[M],X,O):E[M]})},t)}function V({obj:t,query:E,config:x,locale:O}){if(!E||Object.keys(E).length===0)return t;return Object.keys(t).forEach((n)=>{if(t[n]instanceof Object)V({obj:t[n],query:E,config:x,locale:O});if(typeof t[n]==="string")t[n]=w({text:t[n],query:E,config:x,locale:O})}),t}function d(t,E){const{allowEmptyStrings:x=!0}=E,O=new Intl.PluralRules(t),n=(_,f)=>{if(Array.isArray(_))return _.map((A)=>n(A,f));if(_ instanceof Object)return V({obj:_,query:f,config:E,locale:t});return w({text:_,query:f,config:E,locale:t})},m=(_="",f,A)=>{const M=E._messages||{},J={...E.messages?.[t]||{},...M},P=v(O,J,_,E,f),X=H(J,P,E,A),T=typeof X==="object"?JSON.parse(JSON.stringify(X)):X,h=typeof T==="undefined"||typeof T==="object"&&!Object.keys(T).length||T===""&&!x,L=typeof A?.fallback==="string"?[A.fallback]:A?.fallback||[];if(h&&Array.isArray(L)&&L.length){const[s,...$]=L;if(typeof s==="string")return N(s,f,{...A,fallback:$})}if(h&&A&&A.hasOwnProperty("default")&&!L?.length)return A.default?n(A.default,f):A.default;if(h)return _;return n(T,f)},N=(_="",f,A)=>{const M=m(_,f,A);return A?.elements?R(M,A.elements):M};return N}export{d as translateCore,K as throwable,U as notFound,Y as navigate,D as dangerHTML,z as createPortal,Q as createContext};
